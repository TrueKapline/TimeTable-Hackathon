{"ast":null,"code":"import _slicedToArray from\"D:/Program/xampp/htdocs/google-calendar-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import dayjs from\"dayjs\";import React,{useContext,useState,useEffect}from\"react\";import GlobalContext from\"../context/GlobalContext\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function Day(_ref){var day=_ref.day,rowIdx=_ref.rowIdx;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),dayEvents=_useState2[0],setDayEvents=_useState2[1];var _useContext=useContext(GlobalContext),setDaySelected=_useContext.setDaySelected,setShowEventModal=_useContext.setShowEventModal,filteredEvents=_useContext.filteredEvents,setSelectedEvent=_useContext.setSelectedEvent;useEffect(function(){var events=filteredEvents.filter(function(evt){return dayjs(evt.day).format(\"DD-MM-YY\")===day.format(\"DD-MM-YY\");});setDayEvents(events);},[filteredEvents,day]);return/*#__PURE__*/_jsxs(\"div\",{className:\"border__table flex flex-col\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"flex flex-col items-center\",children:[rowIdx===0&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm mt-1 calendar_title_table\",children:[day.format(\"ddd\").toUpperCase()==='MON'&&'ПН',day.format(\"ddd\").toUpperCase()==='TUE'&&'ВТ',day.format(\"ddd\").toUpperCase()==='WED'&&'СР',day.format(\"ddd\").toUpperCase()==='THU'&&'ЧТ',day.format(\"ddd\").toUpperCase()==='FRI'&&'ПТ',day.format(\"ddd\").toUpperCase()==='SAT'&&'СБ',day.format(\"ddd\").toUpperCase()==='SUN'&&'ВС']}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm p-1 my-1 text-center\",children:day.format(\"DD\")})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 cursor-pointer\",onClick:function onClick(){setDaySelected(day);setShowEventModal(true);},children:dayEvents.map(function(evt,idx){return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setSelectedEvent(evt);},className:\"bg-\".concat(evt.label,\"-200 p-1 mr-3 text-gray-600 text-sm rounded mb-1 truncate\"),children:evt.title},idx);})})]});}","map":{"version":3,"sources":["D:/Program/xampp/htdocs/google-calendar-clone/src/components/Day.js"],"names":["dayjs","React","useContext","useState","useEffect","GlobalContext","Day","day","rowIdx","dayEvents","setDayEvents","setDaySelected","setShowEventModal","filteredEvents","setSelectedEvent","events","filter","evt","format","toUpperCase","map","idx","label","title"],"mappings":"oKAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,aAAP,KAA0B,0BAA1B,C,wFAEA,cAAe,SAASC,CAAAA,GAAT,MAA8B,IAAfC,CAAAA,GAAe,MAAfA,GAAe,CAAVC,MAAU,MAAVA,MAAU,eACTL,QAAQ,CAAC,EAAD,CADC,wCACpCM,SADoC,eACzBC,YADyB,+BAOvCR,UAAU,CAACG,aAAD,CAP6B,CAGzCM,cAHyC,aAGzCA,cAHyC,CAIzCC,iBAJyC,aAIzCA,iBAJyC,CAKzCC,cALyC,aAKzCA,cALyC,CAMzCC,gBANyC,aAMzCA,gBANyC,CAS3CV,SAAS,CAAC,UAAM,CACd,GAAMW,CAAAA,MAAM,CAAGF,cAAc,CAACG,MAAf,CACb,SAACC,GAAD,QACEjB,CAAAA,KAAK,CAACiB,GAAG,CAACV,GAAL,CAAL,CAAeW,MAAf,CAAsB,UAAtB,IAAsCX,GAAG,CAACW,MAAJ,CAAW,UAAX,CADxC,EADa,CAAf,CAIAR,YAAY,CAACK,MAAD,CAAZ,CACD,CANQ,CAMN,CAACF,cAAD,CAAiBN,GAAjB,CANM,CAAT,CAQA,mBACE,aAAK,SAAS,CAAC,6BAAf,wBACE,gBAAQ,SAAS,CAAC,4BAAlB,WACGC,MAAM,GAAK,CAAX,eACC,WAAG,SAAS,CAAC,mCAAb,WACGD,GAAG,CAACW,MAAJ,CAAW,KAAX,EAAkBC,WAAlB,KAAoC,KAApC,EAA8C,IADjD,CAEGZ,GAAG,CAACW,MAAJ,CAAW,KAAX,EAAkBC,WAAlB,KAAoC,KAApC,EAA8C,IAFjD,CAGGZ,GAAG,CAACW,MAAJ,CAAW,KAAX,EAAkBC,WAAlB,KAAoC,KAApC,EAA8C,IAHjD,CAIGZ,GAAG,CAACW,MAAJ,CAAW,KAAX,EAAkBC,WAAlB,KAAoC,KAApC,EAA8C,IAJjD,CAKGZ,GAAG,CAACW,MAAJ,CAAW,KAAX,EAAkBC,WAAlB,KAAoC,KAApC,EAA8C,IALjD,CAMGZ,GAAG,CAACW,MAAJ,CAAW,KAAX,EAAkBC,WAAlB,KAAoC,KAApC,EAA8C,IANjD,CAOGZ,GAAG,CAACW,MAAJ,CAAW,KAAX,EAAkBC,WAAlB,KAAoC,KAApC,EAA8C,IAPjD,GAFJ,cAYE,UAAG,SAAS,CAAC,8BAAb,UACKZ,GAAG,CAACW,MAAJ,CAAW,IAAX,CADL,EAZF,GADF,cAkBE,YACE,SAAS,CAAC,uBADZ,CAEE,OAAO,CAAE,kBAAM,CACbP,cAAc,CAACJ,GAAD,CAAd,CACAK,iBAAiB,CAAC,IAAD,CAAjB,CACD,CALH,UAOGH,SAAS,CAACW,GAAV,CAAc,SAACH,GAAD,CAAMI,GAAN,qBACb,YAEE,OAAO,CAAE,yBAAMP,CAAAA,gBAAgB,CAACG,GAAD,CAAtB,EAFX,CAGE,SAAS,cAAQA,GAAG,CAACK,KAAZ,6DAHX,UAKGL,GAAG,CAACM,KALP,EACOF,GADP,CADa,EAAd,CAPH,EAlBF,GADF,CAsCD","sourcesContent":["import dayjs from \"dayjs\";\r\nimport React, { useContext, useState, useEffect } from \"react\";\r\nimport GlobalContext from \"../context/GlobalContext\";\r\n\r\nexport default function Day({ day, rowIdx }) {\r\n  const [dayEvents, setDayEvents] = useState([]);\r\n  const {\r\n    setDaySelected,\r\n    setShowEventModal,\r\n    filteredEvents,\r\n    setSelectedEvent,\r\n  } = useContext(GlobalContext);\r\n\r\n  useEffect(() => {\r\n    const events = filteredEvents.filter(\r\n      (evt) =>\r\n        dayjs(evt.day).format(\"DD-MM-YY\") === day.format(\"DD-MM-YY\")\r\n    );\r\n    setDayEvents(events);\r\n  }, [filteredEvents, day]);\r\n\r\n  return (\r\n    <div className=\"border__table flex flex-col\">\r\n      <header className=\"flex flex-col items-center\">\r\n        {rowIdx === 0 && (\r\n          <p className=\"text-sm mt-1 calendar_title_table\">\r\n            {day.format(\"ddd\").toUpperCase() === 'MON' && ('ПН')}\r\n            {day.format(\"ddd\").toUpperCase() === 'TUE' && ('ВТ')}\r\n            {day.format(\"ddd\").toUpperCase() === 'WED' && ('СР')}\r\n            {day.format(\"ddd\").toUpperCase() === 'THU' && ('ЧТ')}\r\n            {day.format(\"ddd\").toUpperCase() === 'FRI' && ('ПТ')}\r\n            {day.format(\"ddd\").toUpperCase() === 'SAT' && ('СБ')}\r\n            {day.format(\"ddd\").toUpperCase() === 'SUN' && ('ВС')}\r\n          </p>\r\n        )}\r\n        <p className=\"text-sm p-1 my-1 text-center\">\r\n            {day.format(\"DD\")}\r\n        </p>\r\n        \r\n      </header>\r\n      <div\r\n        className=\"flex-1 cursor-pointer\"\r\n        onClick={() => {\r\n          setDaySelected(day);\r\n          setShowEventModal(true);\r\n        }}\r\n      >\r\n        {dayEvents.map((evt, idx) => (\r\n          <div\r\n            key={idx}\r\n            onClick={() => setSelectedEvent(evt)}\r\n            className={`bg-${evt.label}-200 p-1 mr-3 text-gray-600 text-sm rounded mb-1 truncate`}\r\n          >\r\n            {evt.title}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}